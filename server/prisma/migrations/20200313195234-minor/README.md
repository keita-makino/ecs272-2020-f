# Migration `20200313195234-minor`

This migration has been generated by keita-makino at 3/13/2020, 7:52:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."Setting" DROP CONSTRAINT IF EXiSTS "Setting_user_fkey",
ALTER COLUMN "user" DROP NOT NULL;

ALTER TABLE "public"."Setting" ADD FOREIGN KEY ("user")REFERENCES "public"."User"("id") ON DELETE SET NULL  ON UPDATE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200313195147-test..20200313195234-minor
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgres://ojqgzezcrkkccv:413545d8bc9cfbeb322834d87f2369199c51d226e374dc06da6883681e1fa266@ec2-35-172-85-250.compute-1.amazonaws.com:5432/d23tt9hq4p0gh8"
 }
 model Record {
   address String     @default("")
@@ -16,9 +16,9 @@
   type    RecordType
 }
 model RecordType {
-  id     Int      @id
+  id     Int      @default(autoincrement()) @id
   name   String   @default("")
   room   Int
   record Record[]
 }
@@ -30,17 +30,17 @@
 model Setting {
   cellSize Float   @default(0.00025)
   darkMode Boolean @default(false)
-  id       Int     @id
+  id       Int     @default(autoincrement()) @id
   markSize Float   @default(5)
   height   Float   @default(5)
-  user     User
+  user     User?
 }
 model User {
-  email    String   @default("") @unique
-  id       Int      @default(autoincrement()) @id
-  name     String   @default("")
-  password String   @default("")
-  setting  Setting?
+  email    String  @default("") @unique
+  id       Int     @default(autoincrement()) @id
+  name     String  @default("")
+  password String  @default("")
+  setting  Setting
 }
```


